{"version":3,"file":"bundle.js","sources":["../../src/ui/layaMaxUI.ts","../../src/script/GameUI.ts","../../src/GameConfig.ts","../../src/HttpRequestRange/HRHead.ts","../../src/HttpRequestRange/HRRange.ts","../../src/HttpRequestRange/FileBlock.ts","../../src/HttpRequestRange/FileTask.ts","../../src/_test/TestMain.ts"],"sourcesContent":["/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\nimport View=Laya.View;\r\nimport Dialog=Laya.Dialog;\r\nimport Scene=Laya.Scene;\nvar REG: Function = Laya.ClassUtils.regClass;\nexport module ui.test {\r\n    export class TestSceneUI extends Scene {\r\n        constructor(){ super()}\r\n        createChildren():void {\r\n            super.createChildren();\r\n            this.loadScene(\"test/TestScene\");\r\n        }\r\n    }\r\n    REG(\"ui.test.TestSceneUI\",TestSceneUI);\r\n}\r","import { ui } from \"./../ui/layaMaxUI\";\r\n/**\r\n * 本示例采用非脚本的方式实现，而使用继承页面基类，实现页面逻辑。在IDE里面设置场景的Runtime属性即可和场景进行关联\r\n * 相比脚本方式，继承式页面类，可以直接使用页面定义的属性（通过IDE内var属性定义），比如this.tipLbll，this.scoreLbl，具有代码提示效果\r\n * 建议：如果是页面级的逻辑，需要频繁访问页面内多个元素，使用继承式写法，如果是独立小模块，功能单一，建议用脚本方式实现，比如子弹脚本。\r\n */\r\nexport default class GameUI extends ui.test.TestSceneUI {\r\n    constructor() {\r\n        super();\r\n\t\t\r\n        //添加3D场景\r\n        var scene: Laya.Scene3D = Laya.stage.addChild(new Laya.Scene3D()) as Laya.Scene3D;\r\n\r\n        //添加照相机\r\n        var camera: Laya.Camera = (scene.addChild(new Laya.Camera(0, 0.1, 100))) as Laya.Camera;\r\n        camera.transform.translate(new Laya.Vector3(0, 3, 3));\r\n        camera.transform.rotate(new Laya.Vector3(-30, 0, 0), true, false);\r\n\r\n        //添加方向光\r\n        var directionLight: Laya.DirectionLight = scene.addChild(new Laya.DirectionLight()) as Laya.DirectionLight;\r\n        directionLight.color = new Laya.Vector3(0.6, 0.6, 0.6);\r\n        directionLight.transform.worldMatrix.setForward(new Laya.Vector3(1, -1, 0));\r\n\r\n        //添加自定义模型\r\n        var box: Laya.MeshSprite3D = scene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createBox(1, 1, 1))) as Laya.MeshSprite3D;\r\n        box.transform.rotate(new Laya.Vector3(0, 45, 0), false, false);\r\n        var material: Laya.BlinnPhongMaterial = new Laya.BlinnPhongMaterial();\r\n\t\tLaya.Texture2D.load(\"res/layabox.png\", Laya.Handler.create(null, function(tex:Laya.Texture2D) {\r\n\t\t\t\tmaterial.albedoTexture = tex;\r\n\t\t}));\r\n        box.meshRenderer.material = material;\r\n    }\r\n}","/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\r\nimport GameUI from \"./script/GameUI\"\r\n/*\r\n* 游戏初始化配置;\r\n*/\r\nexport default class GameConfig{\r\n    static width:number=640;\r\n    static height:number=1136;\r\n    static scaleMode:string=\"fixedwidth\";\r\n    static screenMode:string=\"none\";\r\n    static alignV:string=\"top\";\r\n    static alignH:string=\"left\";\r\n    static startScene:any=\"test/TestScene.scene\";\r\n    static sceneRoot:string=\"\";\r\n    static debug:boolean=false;\r\n    static stat:boolean=false;\r\n    static physicsDebug:boolean=false;\r\n    static exportSceneToJson:boolean=true;\r\n    constructor(){}\r\n    static init(){\r\n        var reg: Function = Laya.ClassUtils.regClass;\r\n        reg(\"script/GameUI.ts\",GameUI);\r\n    }\r\n}\r\nGameConfig.init();","/** Http Request Head */\r\nexport default class HRHead\r\n{\r\n    xhr: XMLHttpRequest;\r\n\r\n    url:string;\r\n    callback: Function;\r\n    callbackObj:any;\r\n\r\n    constructor()\r\n    {\r\n        this.xhr = new XMLHttpRequest();\r\n        this.xhr.onreadystatechange = (this.onEvent.bind(this));\r\n    }\r\n\r\n    private onEvent(e)\r\n    {\r\n        // console.log(e);\r\n        console.log(this.xhr.readyState, this.xhr.status);\r\n        if (this.xhr.readyState == 4) \r\n        {\r\n            if (this.xhr.status == 200) \r\n            {\r\n                var fileSize = this.xhr.getResponseHeader('Content-Length');\r\n                console.log(fileSize);\r\n                this.ResultCallbak(0, parseInt(fileSize));\r\n            } \r\n            else \r\n            {\r\n                console.log(\"HRHead 请求文件头失败\");\r\n                this.ResultCallbak(1, -1);\r\n            }\r\n        }\r\n    }\r\n\r\n    private ResultCallbak(errorCode: number, fileSize: number)\r\n    {\r\n        if(this.callback)\r\n        {\r\n            if(this.callbackObj)\r\n            {\r\n                this.callback.call(this.callbackObj, errorCode, fileSize, this.url);\r\n            }\r\n            else\r\n            {\r\n                this.callback(errorCode, fileSize, this.url);\r\n            }\r\n        }\r\n\r\n        this.callback = null;\r\n        this.callbackObj = null;\r\n        this.xhr.abort();\r\n        this.url = null;\r\n        HRHead.RecoverItem(this);\r\n\r\n    }\r\n\r\n\r\n\r\n    Request(url: string, callback: Function, callbackObj?:any)\r\n    {\r\n        this.url = url;\r\n        this.callback = callback;\r\n        this.callbackObj = callbackObj;\r\n        this.xhr.open('HEAD', url, true);\r\n        this.xhr.send()\r\n    }\r\n\r\n\r\n    public static MaxNum = 2;\r\n    private static currNum = 0;\r\n    private static pool: HRHead[] = [];\r\n    private static GetItem()\r\n    {\r\n        if(this.pool.length > 0)\r\n        {\r\n            return this.pool.shift();\r\n        }\r\n        else\r\n        {\r\n            if(this.currNum < this.MaxNum)\r\n            {\r\n                this.currNum ++;\r\n                return new HRHead();\r\n            }\r\n            else\r\n            {\r\n                return null;\r\n            }\r\n        }\r\n    }\r\n\r\n    private static RecoverItem(item: HRHead)\r\n    {\r\n        if(this.wait.length > 0)\r\n        {\r\n            let waitItem = this.wait.shift();\r\n            item.Request(waitItem.url, waitItem.callback, waitItem.callbackObj);\r\n        }\r\n        else\r\n        {\r\n            if(this.pool.indexOf(item) == -1)\r\n            {\r\n                this.pool.push(item);\r\n            }\r\n        }\r\n    }\r\n\r\n    private static wait:IRequestItem[] = [];\r\n    static RequestSize(url: string, callback: Function, callbackObj?:any)\r\n    {\r\n        let item = this.GetItem();\r\n        if(item)\r\n        {\r\n            item.Request(url, callback, callbackObj);\r\n        }\r\n        else\r\n        {\r\n            this.wait.push({url: url, callback: callback, callbackObj:callbackObj});\r\n        }\r\n    }\r\n}\r\n\r\ninterface IRequestItem\r\n{\r\n    url:string,\r\n    callback: Function;\r\n    callbackObj?:any;\r\n}","import FileBlock from \"./FileBlock\";\r\n\r\nexport default class HRange\r\n{\r\n    xhr: XMLHttpRequest;\r\n    block: FileBlock;\r\n\r\n    get blockInfo()\r\n    {\r\n        return \"block_\" + this.block.index + \", sendIndex=\" + this.block.sendIndex;\r\n    }\r\n\r\n    constructor()\r\n    {\r\n        this.xhr = new XMLHttpRequest();\r\n        this.xhr.onreadystatechange = (this.onreadystatechange.bind(this));\r\n        this.xhr.onprogress = (this.onprogress.bind(this));\r\n        this.xhr.onerror = (this.onerror.bind(this));\r\n        window['xhr'] = this;\r\n    }\r\n    \r\n    private onreadystatechange(e)\r\n    {\r\n        if(!this.block)\r\n        {\r\n            return;\r\n        }\r\n\r\n        if(this.xhr.readyState >= XMLHttpRequest.LOADING)\r\n        {\r\n            if (this.xhr.status >= 200 && this.xhr.status < 300) \r\n            {\r\n                // console.log(this.blockInfo, \"responseList sendIndex \" ,this.block.sendIndex, this.xhr.response, \"readyState=\", this.xhr.readyState, \"status=\", this.xhr.status);\r\n                this.block.responseList[this.block.sendIndex] = this.xhr.response;\r\n            }\r\n        }\r\n\r\n        if (this.xhr.readyState == 4) \r\n        {\r\n            if (this.xhr.status >= 200 && this.xhr.status < 300) \r\n            {\r\n                console.log(this.blockInfo, \"OnEnd\");\r\n                this.OnEnd();\r\n            } \r\n            else \r\n            {\r\n                console.warn(this.blockInfo, \"HRange 请求文件失败\", \" readyState=\" + this.xhr.readyState, \" status=\"+ this.xhr.status, \"response=\", this.xhr.response);\r\n                // 加载错误就尝试重新加载\r\n                this.Request(this.block, true);\r\n                console.log(this.block);\r\n            }\r\n        }\r\n    }\r\n\r\n    \r\n    private onprogress (e) \r\n    {\r\n        // this.block.responseList[this.block.sendIndex] = this.xhr.response;\r\n        this.block.progressList[this.block.sendIndex] = e.loaded;\r\n        // console.log(\"onprogress\", e);\r\n        // console.log(this.blockInfo, \"onprogress\", e.loaded, e.total,  Math.ceil(e.loaded/ e.total * 100) + \"%\", e);\r\n        console.log(this.blockInfo, \"onprogress\", e.loaded, e.total,  Math.ceil(e.loaded/ e.total * 100) + \"%\");\r\n    }\r\n\r\n    private onabort()\r\n    {\r\n        console.warn(this.blockInfo, \"onabort\");\r\n        this.OnEnd(true);\r\n    }\r\n\r\n    private onerror(e)\r\n    {\r\n        console.error(this.blockInfo, e);\r\n        // 加载错误就尝试重新加载\r\n        // this.Request(this.block, true);\r\n    }\r\n\r\n    private OnEnd(isAbort?: boolean)\r\n    {\r\n        this.block.OnEnd(isAbort);\r\n        this.block = null;\r\n        if(!isAbort)\r\n        {\r\n            this.xhr.abort();\r\n        }\r\n        HRange.RecoverItem(this);\r\n    }\r\n\r\n    Request(block:FileBlock, isError?: boolean)\r\n    {\r\n        if(isError)\r\n        {\r\n            if(!block.responseList[block.sendIndex])\r\n            {\r\n                block.progressList[block.sendIndex] = 0;\r\n            }\r\n            else\r\n            {\r\n                block.sendIndex ++;\r\n            }\r\n        }\r\n        else\r\n        {\r\n            block.sendIndex ++;\r\n        }\r\n        this.block = block;\r\n        this.xhr.abort();\r\n        this.xhr.responseType = block.fileTask.responseType;\r\n        this.xhr.open(\"get\", block.fileTask.url, true);\r\n        this.xhr.setRequestHeader(\"Range\",`bytes=${block.rangeBegin}-${block.end}`);\r\n        // this.xhr.setRequestHeader(\"content-type\", \"application/zip\");\r\n        this.xhr.setRequestHeader(\"content-type\", \"application/octet-stream\");\r\n        \r\n        this.xhr.send();\r\n        console.log(this.blockInfo, \"HRRange.Request\");\r\n    }\r\n\r\n    Abort()\r\n    {\r\n        this.xhr.abort();\r\n    }\r\n\r\n\r\n\r\n    \r\n    public static MaxNum = 2;\r\n    private static currNum = 0;\r\n    private static pool: HRange[] = [];\r\n    private static GetItem()\r\n    {\r\n        if(this.pool.length > 0)\r\n        {\r\n            return this.pool.shift();\r\n        }\r\n        else\r\n        {\r\n            if(this.currNum < this.MaxNum)\r\n            {\r\n                this.currNum ++;\r\n                return new HRange();\r\n            }\r\n            else\r\n            {\r\n                return null;\r\n            }\r\n        }\r\n    }\r\n\r\n    private static RecoverItem(item: HRange)\r\n    {\r\n        if(this.wait.length > 0)\r\n        {\r\n            let waitItem = this.wait.shift();\r\n            item.Request(waitItem);\r\n        }\r\n        else\r\n        {\r\n            if(this.pool.indexOf(item) == -1)\r\n            {\r\n                this.pool.push(item);\r\n            }\r\n        }\r\n    }\r\n\r\n    private static wait:FileBlock[] = [];\r\n    static Request(bolck: FileBlock)\r\n    {\r\n        let item = this.GetItem();\r\n        if(item)\r\n        {\r\n            item.Request(bolck);\r\n        }\r\n        else\r\n        {\r\n            this.wait.push(bolck);\r\n        }\r\n    }\r\n}","import FileTask from \"./FileTask\";\r\n\r\n/** 文件块 */\r\nexport default class FileBlock\r\n{\r\n    /** 文件任务 */\r\n    fileTask:FileTask;\r\n    /** 块索引 */\r\n    index:number = 0;\r\n\r\n    /** range begin */\r\n    begin: number = 0;\r\n    /** range end */\r\n    end: number = 0;\r\n    /** 已经加载了的内容 */\r\n    responseList:any[] = [];\r\n    /** 已经加载了的大小, 是按总大小的位置 */\r\n    progressList:any[] = [];\r\n    /** 第几次请求 */\r\n    sendIndex = -1;\r\n\r\n    /** 获取从加载开始位置 */\r\n    get rangeBegin(): number\r\n    {\r\n        return this.begin + this.loadedSize;\r\n    }\r\n\r\n    /** 已经加载了的大小 */\r\n    get loadedSize():number\r\n    { \r\n        var v = 0;\r\n        for(var i = 0, len=this.progressList.length; i < len; i ++)\r\n        {\r\n            v += this.progressList[i];\r\n        }\r\n\r\n        for(var i = 0, len=this.responseList.length; i < len; i ++)\r\n        {\r\n            if(!this.responseList[i])\r\n            {\r\n                continue;\r\n            }\r\n            \r\n            console.log(this.responseList[i]);\r\n            console.log(this.responseList[i].byteLength)\r\n        }\r\n\r\n        return v;\r\n    }\r\n\r\n    // getLoadedSize():number\r\n    // {\r\n    //     var v = 0;\r\n    //     for(var i = 0, len=this.progressList.length; i < len; i ++)\r\n    //     {\r\n    //         v += this.progressList[i];\r\n    //     }\r\n\r\n    //     for(var i = 0, len=this.responseList.length; i < len; i ++)\r\n    //     {\r\n    //         console.log(this.responseList[i].length)\r\n    //     }\r\n\r\n    //     return v;\r\n    // }\r\n\r\n    Reset()\r\n    {\r\n        this.fileTask = null;\r\n        this.begin = 0;\r\n        this.end = 0;\r\n        this.responseList.length = 0;\r\n        this.progressList.length = 1;\r\n        this.progressList[0] = 0;\r\n        this.sendIndex = -1;\r\n\r\n        this._isAbort = false;\r\n        this._isComplete = false;\r\n    }\r\n\r\n    /** 是否中止加载 */\r\n    _isAbort: boolean = false;\r\n    /** 是否加载完成 */\r\n    _isComplete: boolean = false;\r\n\r\n    get isAbort(): boolean\r\n    {\r\n        return this._isAbort;\r\n    }\r\n    \r\n    get isComplete(): boolean\r\n    {\r\n        return this._isComplete;\r\n    }\r\n\r\n    OnEnd(isAbort?: boolean)\r\n    {\r\n        this._isAbort = isAbort;\r\n        this._isComplete = this.loadedSize == this.end;\r\n        this.fileTask.OnBlockEnd(this);\r\n    }\r\n\r\n\r\n    MergeToBuff(buff:Int8Array)\r\n    {\r\n        var offset = this.begin;\r\n        for(var i = 0, len= this.responseList.length; i < len; i ++)\r\n        {\r\n            var item:ArrayBuffer = this.responseList[i];\r\n            var itemBuff = new Int8Array(item);\r\n            buff.set(itemBuff, offset);\r\n            offset += item.byteLength;\r\n        }\r\n    }\r\n\r\n\r\n\r\n    private static pool: FileBlock[] = [];\r\n    static PoolGetItem():FileBlock\r\n    {\r\n        var item: FileBlock;\r\n        if(this.pool.length > 0)\r\n        {\r\n            item = this.pool.shift();\r\n        }\r\n        else\r\n        {\r\n            item = new FileBlock();\r\n        }\r\n        item.Reset();\r\n        return item;\r\n    }\r\n\r\n    static PoolRecoverItem(item: FileBlock)\r\n    {\r\n        if(this.pool.indexOf(item) == -1)\r\n        {\r\n            return this.pool.push(item);\r\n        }\r\n    }\r\n}","import FileBlock from \"./FileBlock\";\r\nimport HRHead from \"./HRHead\";\r\nimport HRange from \"./HRRange\";\r\n\r\n/** 文件任务 */\r\nexport default class FileTask\r\n{\r\n    /** 最大处理数量 */\r\n    static MaxBlockNum = 2;\r\n    /** 单个块最小大小 */\r\n    // static singleTmpFileSize = 1024 * 1024 * 1;\r\n    static singleTmpFileSize = 1024;\r\n\r\n\r\n\r\n    url: string;\r\n    /** 文件总大小 */\r\n    totalSize: number;\r\n\r\n    /** 请求返回文件类型 */\r\n    responseType:XMLHttpRequestResponseType = \"\";\r\n    /** 合并后的结果 */\r\n    response: ArrayBuffer | string;\r\n\r\n    /** 结束时是否主动返回Bock */\r\n    isEndRecoverBlockList: boolean = false;\r\n    /** 结束时是否主动返回导对象池 */\r\n    isEndRecover: boolean = false;\r\n    /** 文件块列表 */\r\n    private blockList: FileBlock[] = [];\r\n    /** 文件块结束的数量 */\r\n    private blockEndCount: number = 0;\r\n\r\n    /** 回调 */\r\n    callbackFun: Function;\r\n    callbackObj: any;\r\n\r\n    /** 请求大小 */\r\n    RequestSize()\r\n    {\r\n        HRHead.RequestSize(this.url, this.OnGetSize, this);\r\n    }\r\n\r\n    /** 获取导文件大小事件 */\r\n    private OnGetSize(error: number, fileSize: number, url: string)\r\n    {\r\n        if(!error)\r\n        {\r\n            this.totalSize = fileSize;\r\n            this.SpliteBlock();\r\n            this.RequestBlocksList();\r\n        }\r\n    }\r\n\r\n    /** 请求块列表 */\r\n    RequestBlocksList()\r\n    {\r\n        this.blockEndCount = 0;\r\n        for(var block of this.blockList)\r\n        {\r\n            if(block.isComplete)\r\n            {\r\n                this.blockEndCount ++;\r\n            }\r\n            else\r\n            {\r\n                HRange.Request(block);\r\n            }\r\n        }\r\n\r\n        if(this.blockEndCount >= this.blockList.length)\r\n        {\r\n            this.onEnd();\r\n        }\r\n    }\r\n\r\n\r\n\r\n    /** 切分文件块 */\r\n    SpliteBlock()\r\n    {\r\n        var size = this.totalSize;\r\n        var ProcessorCount = FileTask.MaxBlockNum;\r\n        var singleTmpFileSize = FileTask.singleTmpFileSize;\r\n        var blockList = this.blockList;\r\n\r\n        //文件块大小\r\n        var blockSize   = Math.floor(size / ProcessorCount);  \r\n        //余数\r\n        var modSize     = this.totalSize % ProcessorCount;\r\n\r\n        \r\n        var block:FileBlock;\r\n        if (size < singleTmpFileSize)\r\n        {\r\n            block = FileBlock.PoolGetItem();\r\n            block.fileTask = this;\r\n            block.index = 0;\r\n            block.begin = 0;\r\n            block.end = size - 1;\r\n            blockList.push(block);\r\n        }\r\n        else\r\n        {\r\n            for(var i = 0; i < ProcessorCount; i ++)\r\n            {\r\n                block = FileBlock.PoolGetItem();\r\n                block.fileTask = this;\r\n                block.index = i;\r\n                block.begin = i * blockSize;\r\n                block.end = (i + 1) * blockSize - 1;\r\n\r\n                if (i == ProcessorCount - 1)\r\n                {\r\n                    block.end += modSize;\r\n                }\r\n                blockList.push(block);\r\n            }\r\n        }\r\n\r\n        console.log(\"blockList.length=\", blockList.length);\r\n    }\r\n\r\n    /** 启动 */\r\n    Start(url: string, responseType:string=\"arraybuffer\")\r\n    {\r\n        this.url = url;\r\n        this.responseType = <any>responseType;\r\n        this.RequestSize();\r\n    }\r\n\r\n    /** 块结束事件 */\r\n    OnBlockEnd(block: FileBlock)\r\n    {\r\n        this.blockEndCount++;\r\n        if(this.blockEndCount >= this.blockList.length)\r\n        {\r\n            this.onEnd();\r\n        }\r\n    }\r\n\r\n    /** 结束 */\r\n    onEnd()\r\n    {\r\n        this.Merge();\r\n        if(this.callbackFun)\r\n        {\r\n            if(this.callbackObj)\r\n            {\r\n                this.callbackFun.call(this.callbackObj, this.response, this.url);\r\n            }\r\n            else\r\n            {\r\n                this.callbackFun(this.response, this.url);\r\n            }\r\n        }\r\n\r\n        if(this.isEndRecoverBlockList)\r\n        {\r\n            this.RecoverBlockList();\r\n        }\r\n\r\n        if(this.isEndRecover)\r\n        {\r\n            this.PoolRecoverItem();\r\n        }\r\n    }\r\n\r\n    /** 将block丢回对象池 */\r\n    RecoverBlockList()\r\n    {\r\n        for(var i = 0, len = this.blockList.length; i <  len; i++)\r\n        {\r\n            var block = this.blockList[i];\r\n            FileBlock.PoolRecoverItem(block);\r\n        }\r\n        this.blockList.length = 0;\r\n    }\r\n\r\n    /** 合并文件大小 */\r\n    Merge()\r\n    {\r\n        if(this.responseType == \"arraybuffer\" || this.responseType == <any>\"moz-chunked-arraybuffer\" || this.responseType == <any>\"ms-stream\")\r\n        {\r\n            this.MergeArrayBuffer();\r\n        }\r\n        // else if(this.responseType == \"text\")\r\n        else\r\n        {\r\n            this.MergeText();\r\n        }\r\n    }\r\n\r\n    /** 合并二进制文件 */\r\n    MergeArrayBuffer()\r\n    {\r\n        if(this.blockList.length == 1 && this.blockList[0].responseList.length == 1)\r\n        {\r\n            this.response =  this.blockList[0].responseList[0];\r\n        }\r\n        else\r\n        {\r\n            var arr = new ArrayBuffer(this.totalSize);\r\n            var buff = new Int8Array(arr);\r\n            \r\n            for(var i = 0, len = this.blockList.length; i <  len; i++)\r\n            {\r\n                var block = this.blockList[i];\r\n                block.MergeToBuff(buff);\r\n            }\r\n            this.response = arr;\r\n        }\r\n\r\n    }\r\n\r\n    \r\n    /** 合并文本文件 */\r\n    MergeText()\r\n    {\r\n        if(this.blockList.length == 1 && this.blockList[0].responseList.length == 1)\r\n        {\r\n            this.response = this.blockList[0].responseList[0];\r\n        }\r\n        else\r\n        {\r\n            var arr = [];\r\n            for(var i = 0, len = this.blockList.length; i <  len; i++)\r\n            {\r\n                var block = this.blockList[i];\r\n                arr.push(...block.responseList);\r\n            }\r\n            this.response = arr.join();\r\n        }\r\n\r\n    }\r\n\r\n\r\n    /** 丢回对象池 */\r\n    PoolRecoverItem()\r\n    {\r\n        this.url = null;\r\n        this.totalSize = 0;\r\n        this.responseType = \"\";\r\n        this.response = null;\r\n        this.isEndRecoverBlockList = false;\r\n        this.isEndRecover = false;\r\n        this.RecoverBlockList();\r\n        this.blockEndCount = 0;\r\n        this.callbackFun = null;\r\n        this.callbackObj = null;\r\n        FileTask.RecoverItem(this);\r\n    }\r\n    \r\n    \r\n    private static pool: FileTask[] = [];\r\n    private static GetItem()\r\n    {\r\n        if(this.pool.length > 0)\r\n        {\r\n            return this.pool.shift();\r\n        }\r\n        else\r\n        {\r\n            return new FileTask();\r\n        }\r\n    }\r\n\r\n    private static RecoverItem(item: FileTask)\r\n    {\r\n        if(this.pool.indexOf(item) == -1)\r\n        {\r\n            this.pool.push(item);\r\n        }\r\n    }\r\n\r\n    static Request(url: string, callbackFun?:Function, callbackObj?:any, responseType:string=\"arraybuffer\",  isEndRecoverBlockList: boolean=true, isEndRecover: boolean=true):FileTask\r\n    {\r\n        let item = this.GetItem();\r\n        item.callbackFun = callbackFun;\r\n        item.callbackObj = callbackObj;\r\n        item.isEndRecoverBlockList = isEndRecoverBlockList;\r\n        item.isEndRecover = isEndRecover;\r\n        item.Start(url, responseType);\r\n        return item;\r\n    }\r\n}\r\nwindow['FileTask'] = FileTask;\r\nwindow['FileBlock'] = FileBlock;\r\nwindow['HRHead'] = HRHead;\r\nwindow['HRange'] = HRange;","\r\nimport GameConfig from \"../GameConfig\";\r\nimport HRHead from \"../HttpRequestRange/HRHead\";\r\nimport HRange from \"../HttpRequestRange/HRRange\";\r\nimport FileTask from \"../HttpRequestRange/FileTask\";\r\n\r\n class TestMain \r\n{\r\n    constructor() \r\n    {\r\n\t\tthis.InitLaya();\r\n\r\n\r\n\t\tif(Laya.Browser.onWeiXin)\r\n\t\t{\r\n\t\t\tLaya.URL.basePath = \"http://192.168.1.8:8901/bin/\";\r\n        }\r\n        \r\n\r\n\r\n        var urlList =\r\n        [\r\n            // \"https://h5-jjsg-cdn6.123u.com/testlaya/web/res3dzip/pve_001-01.zip\",\r\n            // \"https://blog.ihaiu.com/assets/down/ihaiu.MnutiThreadDownload%20For%20Windows.zip\",\r\n            // \"https://h5-jjsg-cdn6.123u.com/testlaya/web/version.json\",\r\n            // \"http://blog.ihaiu.com\",\r\n           \r\n\r\n            \"https://h5-jjsg-cdn6.123u.com/testlaya/web_01_00_00_54/res3dzip/Scene_PVE_001_003-2d24d048b9.zip\",\r\n            \"https://h5-jjsg-cdn6.123u.com/testlaya/web_01_00_00_54/res3dzip/UnityBuiltin-bb6d87a30c.zip\",\r\n            \"https://h5-jjsg-cdn6.123u.com/testlaya/web_01_00_00_54/res3dzip/Hero_1001_Dianguanglongqi_Skin1-92eee2d8ca.zip\",\r\n            \"https://h5-jjsg-cdn6.123u.com/testlaya/web_01_00_00_54/res3dzip/Monster_2003_langyabing_Skin1-ef9a8b4b9a.zip\",\r\n            \"https://h5-jjsg-cdn6.123u.com/testlaya/web_01_00_00_54/res3dzip/Monster_2012_Laohu_Skin1-0a28ac8ce7.zip\",\r\n            \"https://h5-jjsg-cdn6.123u.com/testlaya/web_01_00_00_54/res3dzip/Monster_4001_Fujiang_Skin1-19b9eff80d.zip\",\r\n            \"https://h5-jjsg-cdn6.123u.com/testlaya/web_01_00_00_54/res3dzip/Effect_1001_Dianguanglongqi_Skin1-803555b774.zip\",\r\n            \"https://h5-jjsg-cdn6.123u.com/testlaya/web_01_00_00_54/res3dzip/Effect_1001_Dianguanglongqi_Skin1____Effect_1002_Fengyunzhanji_Skin1____Effect_1004_Dongzhuo_Skin1-957180163b.zip\",\r\n            \"https://h5-jjsg-cdn6.123u.com/testlaya/web_01_00_00_54/res3dzip/Effect_1001_Dianguanglongqi_Skin1____Effect_1002_Fengyunzhanji_Skin1____Effect_1004_Dongzhuo_Skin1-957180163b.zip\",\r\n            \"https://h5-jjsg-cdn6.123u.com/testlaya/web_01_00_00_54/res3dzip/Effect_1001_Dianguanglongqi_Skin1____Effect_1004_Dongzhuo_Skin1-f1fe61b0c6.zip\",\r\n            \"https://h5-jjsg-cdn6.123u.com/testlaya/web_01_00_00_54/res3dzip/Assets___GameArt___Effect-7dce0d45c5.zip\",\r\n            \"https://h5-jjsg-cdn6.123u.com/testlaya/web_01_00_00_54/res3dzip/Effect_2003_langyabing_Skin1-aac9fb443d.zip\",\r\n            \"https://h5-jjsg-cdn6.123u.com/testlaya/web_01_00_00_54/res3dzip/Effect_000_BehitCommon-4f9cec9d90.zip\",\r\n            \"https://h5-jjsg-cdn6.123u.com/testlaya/web_01_00_00_54/res3dzip/general_impact_02-2c70e910ba.zip\",\r\n            \"https://h5-jjsg-cdn6.123u.com/testlaya/web_01_00_00_54/res3dzip/Effect_Text_Forward-e83d2b6598.zip\",\r\n            \"https://h5-jjsg-cdn6.123u.com/testlaya/web_01_00_00_54/res3dzip/Assets-dcef28f04b.zip\",\r\n            \"https://h5-jjsg-cdn6.123u.com/testlaya/web_01_00_00_54/res3dzip/Effect_Text_Arrow-daf449a333.zip\",\r\n            \"https://h5-jjsg-cdn6.123u.com/testlaya/web_01_00_00_54/res3dzip/Effect_000_Circle-bac4045cd4.zip\"\r\n        ];\r\n\r\n        FileTask.MaxBlockNum = 2;\r\n        HRHead.MaxNum = 5;\r\n        HRange.MaxNum = 5;\r\n        \r\n        for(var url of urlList)\r\n        {\r\n            // HRHead.RequestSize(url, this.onFileSize, this);\r\n            // FileTask.Request(url, this.onFileEnd, this, \"arraybuffer\");\r\n            // FileTask.Request(url, this.onFileEnd, this, \"ms-stream\");\r\n            \r\n            // FileTask.Request(url, this.onFileEnd, this, \"moz-chunked-arraybuffer\");\r\n            // break;\r\n\r\n            Laya.loader.load(url, Laya.Handler.create(this, this.onLayaLoad, [url]), null, Laya.Loader.BUFFER);\r\n        }\r\n\r\n        window['testMain'] = this;\r\n\t\t\r\n    }\r\n\r\n    onLayaLoad(response, url: string)\r\n    {\r\n        console.log(url);\r\n        console.log(response);\r\n        this.fileResponseObj[url] = response;\r\n    }\r\n\r\n\r\n    fileResponseObj = {};\r\n    onFileEnd(response:any, url)\r\n    {\r\n        console.log(url);\r\n        console.log(response);\r\n        this.fileResponseObj[url] = response;\r\n        // this.ab2str(response, (str)=>{\r\n        //     console.log(str);\r\n        // });\r\n    }\r\n    \r\n    onFileSize(error: number, fileSize: number, url: string)\r\n    {\r\n        console.log(\"error:\", error, \"fileSize:\", fileSize,\",\",  bToStr(fileSize), \"url:\", url);\r\n        \r\n    }\r\n\r\n\t//ArrayBuffer转字符串\r\n     ab2str(u,f) {\r\n        var b = new Blob([u]);\r\n        var r = new FileReader();\r\n         r.readAsText(b, 'utf-8');\r\n         r.onload = function (){if(f)f.call(null,r.result)}\r\n     }\r\n     //字符串转字符串ArrayBuffer\r\n      str2ab(s,f) {\r\n         var b = new Blob([s],{type:'text/plain'});\r\n         var r = new FileReader();\r\n         r.readAsArrayBuffer(b);\r\n         r.onload = function (){if(f)f.call(null,r.result)}\r\n     }\r\n\r\n\tInitLaya()\r\n\t{\r\n\t\t//根据IDE设置初始化引擎\t\t\r\n\t\tif (window[\"Laya3D\"]) Laya3D.init(GameConfig.width, GameConfig.height);\r\n\t\telse Laya.init(GameConfig.width, GameConfig.height, Laya[\"WebGL\"]);\r\n\t\tLaya[\"Physics\"] && Laya[\"Physics\"].enable();\r\n\t\tLaya[\"DebugPanel\"] && Laya[\"DebugPanel\"].enable();\r\n\t\tLaya.stage.scaleMode = GameConfig.scaleMode;\r\n\t\tLaya.stage.screenMode = GameConfig.screenMode;\r\n\t\tLaya.stage.alignV = GameConfig.alignV;\r\n\t\tLaya.stage.alignH = GameConfig.alignH;\r\n\t\t//兼容微信不支持加载scene后缀场景\r\n\t\tLaya.URL.exportSceneToJson = GameConfig.exportSceneToJson;\r\n\r\n\t\tLaya.Shader3D.debugMode = true;\r\n\r\n\t\t//打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）\r\n\t\t// if (GameConfig.debug || Laya.Utils.getQueryString(\"debug\") == \"true\") Laya.enableDebugPanel();\r\n\t\tif (GameConfig.physicsDebug && Laya[\"PhysicsDebugDraw\"]) Laya[\"PhysicsDebugDraw\"].enable();\r\n\t\tif (GameConfig.stat) Laya.Stat.show();\r\n\t\tLaya.alertGlobalError = true;\r\n\t}\r\n\r\n\r\n}\r\n\r\n\r\n//激活启动类\r\nnew TestMain();"],"names":[],"mappings":"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"}